{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Taha\\\\Desktop\\\\notion-excel-sync\\\\excel-notion-ui\\\\src\\\\Profile.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { format, parseISO } from 'date-fns'; // Tarih formatlama için\nimport './Profile.css';\nimport { tr } from 'date-fns/locale';\n\n// Backend ve Lemon Squeezy URL'leri\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'https://notixel-backend.onrender.com';\n// 🚨 KRİTİK: Kendi Lemon Squeezy Store URL'niz\nconst LEMONSQUEEZY_STORE_URL = 'https://notixel.lemonsqueezy.com';\n\n// 🚨 KRİTİK: subscription.py ve Pricing.tsx ile EŞLEŞMELİDİR\nconst PLAN_VARIANTS = {\n  basic: {\n    id: 1035879,\n    price: \"10\",\n    cta_text: \"Basic\"\n  },\n  pro: {\n    id: 1035902,\n    price: \"20\",\n    cta_text: \"Pro\"\n  },\n  exclusive: {\n    id: 1035903,\n    price: \"50\",\n    cta_text: \"Exclusive\"\n  }\n};\n\n// API'den gelen verinin yapısı (UserSubscriptionStatus Pydantic modeline karşılık gelir)\n\n// Config.py'deki limitleri göstermek için basit bir map\nconst LIMITS = {\n  free: {\n    label: \"Free (Varsayılan)\",\n    syncs: 0,\n    interval: 60\n  },\n  basic: {\n    label: \"Basic Plan\",\n    syncs: 3,\n    interval: 60\n  },\n  pro: {\n    label: \"Pro Plan\",\n    syncs: 10,\n    interval: 30\n  },\n  exclusive: {\n    label: \"Exclusive Plan\",\n    syncs: 9999,\n    interval: 15\n  }\n};\nconst Profile = ({\n  setStep\n}) => {\n  _s();\n  const userId = localStorage.getItem('user_id');\n  const [status, setStatus] = useState(null);\n  const [message, setMessage] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // --- 1. Abonelik Durumunu Çekme ---\n  const fetchSubscriptionStatus = useCallback(async id => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/subscription/status/${id}`);\n      if (!response.ok) {\n        throw new Error(\"Subscription status could not be retrieved.\");\n      }\n      const data = await response.json();\n      setStatus(data);\n    } catch (error) {\n      setMessage(\"There was a problem loading your subscription status. Please try again later.\");\n      console.error(error);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    if (userId) {\n      fetchSubscriptionStatus(userId);\n    } else {\n      setMessage(\"No user data to display. Please log in again.\");\n      setIsLoading(false);\n    }\n  }, [userId, fetchSubscriptionStatus]);\n\n  // --- 2. Hesap Silme İşlemi ---\n  const handleDeleteAccount = async () => {\n    if (!userId) {\n      setMessage(\"User ID not found.\");\n      return;\n    }\n    if (!window.confirm(\"Are you sure you want to permanently delete your account and all your data? This action is irreversible.\")) {\n      return;\n    }\n    setMessage(\"Your account is being deleted...\");\n    try {\n      const response = await fetch(`${API_BASE_URL}/subscription/delete-account/${userId}`, {\n        method: 'DELETE'\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.detail || \"An error occurred while deleting the account.\");\n      }\n\n      // Başarılı olursa, yerel depolamayı temizle ve ana sayfaya yönlendir\n      localStorage.removeItem('user_id');\n      localStorage.removeItem('excel_file_id');\n      localStorage.removeItem('excel_file_name');\n      localStorage.removeItem('notion_database_id');\n      localStorage.removeItem('notion_db_name');\n      localStorage.removeItem('user_email');\n      alert(\"Your account and all your data have been deleted. Your data will be completely cleared from our server after the period specified in the Terms and Conditions.\");\n      setStep('home');\n    } catch (error) {\n      setMessage(`Error: ${error instanceof Error ? error.message : \"Unknown Error\"}`);\n    }\n  };\n\n  // Yükleniyor durumu\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-container\",\n      children: \"Loading subscription status...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 16\n    }, this);\n  }\n  if (!status) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-container error-message\",\n      children: \"User profile information cannot be loaded.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 16\n    }, this);\n  }\n\n  // --- 3. Lemon Squeezy URL'si Oluşturma Fonksiyonu ---\n  const getLemonSqueezyCheckoutUrl = (variantId, planLevel) => {\n    // Lemon Squeezy'nin \"Upgrade/Downgrade\" URL yapısı\n    // 🚨 KRİTİK: user_email'i ileterek, var olan bir abonelik varsa otomatik olarak Yükseltme/Düşürme arayüzüne yönlendirilir.\n\n    // Eğer kullanıcı bir planı zaten iptal etmişse ve end_date bilgisi varsa, \n    // Lemon Squeezy onu yükseltme/düşürme yerine yeni bir abonelik başlatmaya yönlendirir.\n\n    const isCurrentPlan = planLevel === status.subscription_level;\n\n    // Aktif abonelik varsa ve mevcut planı değilse, yükseltme/düşürme akışını başlat (checkout'un üzerine yazma)\n    if (status.is_subscription_active && !isCurrentPlan) {\n      // Örnek: https://notixel.lemonsqueezy.com/billing?email=user@example.com\n      // Bu, kullanıcının mevcut aboneliğini yönettiği sayfaya yönlendirir.\n      return `${LEMONSQUEEZY_STORE_URL}/billing?email=${status.email}`;\n    }\n\n    // Aktif abonelik yoksa veya mevcut planı satın almaya çalışıyorsa (yenileme/yeni)\n    // Standart checkout linki: https://notixel.lemonsqueezy.com/checkout/12345?email=user@example.com\n    return `${LEMONSQUEEZY_STORE_URL}/checkout/${variantId}?email=${status.email}`;\n  };\n\n  // --- 4. Render Edilecek Bileşen ---\n  const activeLevelInfo = LIMITS[status.subscription_level] || LIMITS['free'];\n  const activeLevelLabel = activeLevelInfo.label;\n  const isCancelled = status.subscription_end_date && parseISO(status.subscription_end_date) < new Date();\n\n  // Eğer iptal edilmişse bile, bitiş tarihine kadar aktif sayılır.\n  let statusText = status.is_subscription_active ? \"Active (Within Paid Period)\" : \"Pasive\";\n  if (status.subscription_end_date && status.is_subscription_active) {\n    const endDate = parseISO(status.subscription_end_date);\n    statusText = `Active (Ends in: ${format(endDate, 'dd MMM yyyy', {\n      locale: tr\n    })})`;\n  } else if (isCancelled) {\n    statusText = \"Pasive \";\n  }\n\n  // Yükseltme kartları için listeyi oluştur.\n  // Sadece \"free\" olmayan planları gösteriyoruz.\n  const upgradePlans = Object.entries(PLAN_VARIANTS).map(([level, variant]) => ({\n    level,\n    ...variant,\n    ...LIMITS[level]\n  }));\n\n  // Yükseltme butonunun metnini belirleyen helper\n  const getButtonText = level => {\n    if (level === status.subscription_level) {\n      return status.is_subscription_active ? 'Your Current Plan' : 'Re-subscribe';\n    }\n\n    // Aktif bir aboneliği varsa\n    if (status.is_subscription_active) {\n      // Daha düşük bir plana geçiyorsa\n      const isDowngrade = LIMITS[level].syncs < LIMITS[status.subscription_level].syncs;\n      return isDowngrade ? 'Downgrade Now' : 'Upgrade Now';\n    }\n\n    // Aktif aboneliği yoksa, herhangi bir plan için \"Abone Ol\" butonu görünür.\n    return 'Subscribe';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"profile-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Profile and Subscription Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"E-Mail: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: status.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"current-status-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Current Subscription Status\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status-item current-plan\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-label\",\n            children: \"Plan \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-value\",\n            children: activeLevelLabel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `status-item ${status.is_subscription_active ? 'active-status' : 'inactive-status'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-label\",\n            children: \"Subscription Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-value\",\n            children: statusText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"current-limits-detail\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"limit-detail\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"limit-value\",\n            children: activeLevelInfo.syncs === 9999 ? 'Unlimited' : activeLevelInfo.syncs\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"limit-label\",\n            children: \"Auto Synchronization Job\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"limit-detail\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"limit-value\",\n            children: [\"Every \", activeLevelInfo.interval, \" minutes\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"limit-label\",\n            children: \"Synchronization Interval\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"upgrade-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Manage Plan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"plan-grid\",\n        children: upgradePlans.map(plan => {\n          const level = plan.level;\n          const isCurrent = level === status.subscription_level;\n          const buttonText = getButtonText(level);\n          const isDisabled = isCurrent && status.is_subscription_active; // Aktif aboneliği varken kendi planının butonu devre dışı\n\n          // Lemon Squeezy URL'si oluşturma\n          const checkoutUrl = getLemonSqueezyCheckoutUrl(plan.id, plan.level);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `plan-card ${isCurrent ? 'current' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: plan.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"plan-price\",\n              children: [\"$\", plan.price, \" / ay\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"plan-features\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [plan.syncs === 9999 ? 'Unlimited' : plan.syncs, \" Auto Synchronization Job\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"Every \", plan.interval, \" minutes\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: checkoutUrl,\n              target: \"_blank\" // Yeni sekmede açar\n              ,\n              rel: \"noopener noreferrer\",\n              className: `btn btn-upgrade ${isDisabled ? 'disabled-link' : ''}`,\n              \"aria-disabled\": isDisabled\n              // Butonun kendisi hala tıklanabilir olduğu için disabled sınıfı ile stil veriyoruz\n              ,\n              children: buttonText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 33\n            }, this), isCurrent && status.is_subscription_active && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"plan-note\",\n              children: [\"To manage your plan (cancel/upgrade/downgrade), log in to the \", /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `${LEMONSQUEEZY_STORE_URL}/billing?email=${status.email}`,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                children: \"Lemon Squeezy Customer Portal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 103\n              }, this), \" with your email address.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 37\n            }, this)]\n          }, level, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"delete-account-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Permanently Delete Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"ATTENTION! This action is irreversible. When you delete your account, all your synchronization settings, saved Excel and Notion connections will be permanently deleted. Your data will be cleared from our servers following the period specified in our Terms and Conditions.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDeleteAccount,\n        className: \"btn btn-danger delete-btn\",\n        children: \"Delete Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 9\n  }, this);\n};\n_s(Profile, \"XzKmtSDcogMycxCEX0nyPa185+I=\");\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","format","parseISO","tr","jsxDEV","_jsxDEV","API_BASE_URL","LEMONSQUEEZY_STORE_URL","PLAN_VARIANTS","basic","id","price","cta_text","pro","exclusive","LIMITS","free","label","syncs","interval","Profile","setStep","_s","userId","localStorage","getItem","status","setStatus","message","setMessage","isLoading","setIsLoading","fetchSubscriptionStatus","response","fetch","ok","Error","data","json","error","console","handleDeleteAccount","window","confirm","method","errorData","detail","removeItem","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","getLemonSqueezyCheckoutUrl","variantId","planLevel","isCurrentPlan","subscription_level","is_subscription_active","email","activeLevelInfo","activeLevelLabel","isCancelled","subscription_end_date","Date","statusText","endDate","locale","upgradePlans","Object","entries","map","level","variant","getButtonText","isDowngrade","plan","isCurrent","buttonText","isDisabled","checkoutUrl","href","target","rel","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Taha/Desktop/notion-excel-sync/excel-notion-ui/src/Profile.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { format, parseISO } from 'date-fns'; // Tarih formatlama için\r\nimport './Profile.css'; \r\nimport { tr } from 'date-fns/locale';\r\n\r\n// Backend ve Lemon Squeezy URL'leri\r\nconst API_BASE_URL = 'https://notixel-backend.onrender.com';\r\n// 🚨 KRİTİK: Kendi Lemon Squeezy Store URL'niz\r\nconst LEMONSQUEEZY_STORE_URL = 'https://notixel.lemonsqueezy.com'; \r\n\r\n// 🚨 KRİTİK: subscription.py ve Pricing.tsx ile EŞLEŞMELİDİR\r\nconst PLAN_VARIANTS: { [key: string]: { id: number; price: string; cta_text: string } } = {\r\n    basic: { id: 1035879, price: \"10\", cta_text: \"Basic\" }, \r\n    pro: { id: 1035902, price: \"20\", cta_text: \"Pro\" },\r\n    exclusive: { id: 1035903, price: \"50\", cta_text: \"Exclusive\" },\r\n};\r\n\r\n// API'den gelen verinin yapısı (UserSubscriptionStatus Pydantic modeline karşılık gelir)\r\ninterface SubscriptionStatus {\r\n    email: string;\r\n    subscription_level: string; // 'free', 'basic', 'pro', 'exclusive'\r\n    is_subscription_active: boolean; // Ödenen dönem içinde aktif mi?\r\n    subscription_end_date: string | null; // Bitiş tarihi (ISO formatında string)\r\n}\r\n\r\n// Config.py'deki limitleri göstermek için basit bir map\r\nconst LIMITS: { [key: string]: { label: string; syncs: number; interval: number } } = {\r\n    free: { label: \"Free (Varsayılan)\", syncs: 0, interval: 60 },\r\n    basic: { label: \"Basic Plan\", syncs: 3, interval: 60 },\r\n    pro: { label: \"Pro Plan\", syncs: 10, interval: 30 },\r\n    exclusive: { label: \"Exclusive Plan\", syncs: 9999, interval: 15 },\r\n};\r\n\r\ninterface ProfileProps {\r\n    setStep: (step: 'home' | 'connect') => void; // Hesap silindikten sonra yönlendirme için\r\n}\r\n\r\nconst Profile: React.FC<ProfileProps> = ({ setStep }) => {\r\n    const userId = localStorage.getItem('user_id');\r\n    const [status, setStatus] = useState<SubscriptionStatus | null>(null);\r\n    const [message, setMessage] = useState<string | null>(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    // --- 1. Abonelik Durumunu Çekme ---\r\n    const fetchSubscriptionStatus = useCallback(async (id: string) => {\r\n        try {\r\n            const response = await fetch(`${API_BASE_URL}/subscription/status/${id}`);\r\n            if (!response.ok) {\r\n                throw new Error(\"Subscription status could not be retrieved.\");\r\n            }\r\n            const data: SubscriptionStatus = await response.json();\r\n            setStatus(data);\r\n        } catch (error) {\r\n            setMessage(\"There was a problem loading your subscription status. Please try again later.\");\r\n            console.error(error);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (userId) {\r\n            fetchSubscriptionStatus(userId);\r\n        } else {\r\n            setMessage(\"No user data to display. Please log in again.\");\r\n            setIsLoading(false);\r\n        }\r\n    }, [userId, fetchSubscriptionStatus]);\r\n\r\n\r\n    // --- 2. Hesap Silme İşlemi ---\r\n    const handleDeleteAccount = async () => {\r\n        if (!userId) {\r\n            setMessage(\"User ID not found.\");\r\n            return;\r\n        }\r\n\r\n        if (!window.confirm(\"Are you sure you want to permanently delete your account and all your data? This action is irreversible.\")) {\r\n            return;\r\n        }\r\n\r\n        setMessage(\"Your account is being deleted...\");\r\n        try {\r\n            const response = await fetch(`${API_BASE_URL}/subscription/delete-account/${userId}`, {\r\n                method: 'DELETE',\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.detail || \"An error occurred while deleting the account.\");\r\n            }\r\n\r\n            // Başarılı olursa, yerel depolamayı temizle ve ana sayfaya yönlendir\r\n            localStorage.removeItem('user_id');\r\n            localStorage.removeItem('excel_file_id');\r\n            localStorage.removeItem('excel_file_name');\r\n            localStorage.removeItem('notion_database_id');\r\n            localStorage.removeItem('notion_db_name');\r\n            localStorage.removeItem('user_email');\r\n            \r\n            alert(\"Your account and all your data have been deleted. Your data will be completely cleared from our server after the period specified in the Terms and Conditions.\");\r\n            setStep('home');\r\n\r\n        } catch (error) {\r\n            setMessage(`Error: ${error instanceof Error ? error.message : \"Unknown Error\"}`);\r\n        }\r\n    };\r\n    \r\n    // Yükleniyor durumu\r\n    if (isLoading) {\r\n        return <div className=\"profile-container\">Loading subscription status...</div>;\r\n    }\r\n\r\n    if (!status) {\r\n        return <div className=\"profile-container error-message\">User profile information cannot be loaded.</div>;\r\n    }\r\n    \r\n    // --- 3. Lemon Squeezy URL'si Oluşturma Fonksiyonu ---\r\n    const getLemonSqueezyCheckoutUrl = (variantId: number, planLevel: string): string => {\r\n        // Lemon Squeezy'nin \"Upgrade/Downgrade\" URL yapısı\r\n        // 🚨 KRİTİK: user_email'i ileterek, var olan bir abonelik varsa otomatik olarak Yükseltme/Düşürme arayüzüne yönlendirilir.\r\n        \r\n        // Eğer kullanıcı bir planı zaten iptal etmişse ve end_date bilgisi varsa, \r\n        // Lemon Squeezy onu yükseltme/düşürme yerine yeni bir abonelik başlatmaya yönlendirir.\r\n        \r\n        const isCurrentPlan = planLevel === status.subscription_level;\r\n        \r\n        // Aktif abonelik varsa ve mevcut planı değilse, yükseltme/düşürme akışını başlat (checkout'un üzerine yazma)\r\n        if (status.is_subscription_active && !isCurrentPlan) {\r\n            // Örnek: https://notixel.lemonsqueezy.com/billing?email=user@example.com\r\n            // Bu, kullanıcının mevcut aboneliğini yönettiği sayfaya yönlendirir.\r\n             return `${LEMONSQUEEZY_STORE_URL}/billing?email=${status.email}`;\r\n        } \r\n        \r\n        // Aktif abonelik yoksa veya mevcut planı satın almaya çalışıyorsa (yenileme/yeni)\r\n        // Standart checkout linki: https://notixel.lemonsqueezy.com/checkout/12345?email=user@example.com\r\n        return `${LEMONSQUEEZY_STORE_URL}/checkout/${variantId}?email=${status.email}`;\r\n    };\r\n\r\n\r\n    // --- 4. Render Edilecek Bileşen ---\r\n    const activeLevelInfo = LIMITS[status.subscription_level] || LIMITS['free'];\r\n    const activeLevelLabel = activeLevelInfo.label;\r\n    \r\n    const isCancelled = status.subscription_end_date && parseISO(status.subscription_end_date) < new Date();\r\n    \r\n    // Eğer iptal edilmişse bile, bitiş tarihine kadar aktif sayılır.\r\n    let statusText = status.is_subscription_active \r\n        ? \"Active (Within Paid Period)\" \r\n        : \"Pasive\";\r\n\r\n    if (status.subscription_end_date && status.is_subscription_active) {\r\n        const endDate = parseISO(status.subscription_end_date);\r\n        statusText = `Active (Ends in: ${format(endDate, 'dd MMM yyyy', { locale: tr })})`;\r\n    } else if (isCancelled) {\r\n        statusText = \"Pasive \";\r\n    }\r\n    \r\n    // Yükseltme kartları için listeyi oluştur.\r\n    // Sadece \"free\" olmayan planları gösteriyoruz.\r\n    const upgradePlans = Object.entries(PLAN_VARIANTS)\r\n        .map(([level, variant]) => ({\r\n            level,\r\n            ...variant,\r\n            ...LIMITS[level]\r\n        }));\r\n    \r\n    // Yükseltme butonunun metnini belirleyen helper\r\n    const getButtonText = (level: string) => {\r\n        if (level === status.subscription_level) {\r\n            return status.is_subscription_active ? 'Your Current Plan' : 'Re-subscribe';\r\n        }\r\n        \r\n        // Aktif bir aboneliği varsa\r\n        if (status.is_subscription_active) {\r\n            // Daha düşük bir plana geçiyorsa\r\n            const isDowngrade = LIMITS[level].syncs < LIMITS[status.subscription_level].syncs;\r\n            return isDowngrade ? 'Downgrade Now' : 'Upgrade Now';\r\n        }\r\n        \r\n        // Aktif aboneliği yoksa, herhangi bir plan için \"Abone Ol\" butonu görünür.\r\n        return 'Subscribe';\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"profile-container\">\r\n            <header className=\"profile-header\">\r\n                <h1>Profile and Subscription Management</h1>\r\n                <p>E-Mail: <strong>{status.email}</strong></p>\r\n            </header>\r\n            \r\n            {/* --- MEVCUT DURUM KARTI --- */}\r\n            <section className=\"current-status-card\">\r\n                <h2>Current Subscription Status</h2>\r\n                <div className=\"status-grid\">\r\n                    <div className=\"status-item current-plan\">\r\n                        <span className=\"status-label\">Plan </span>\r\n                        <span className=\"status-value\">{activeLevelLabel}</span>\r\n                    </div>\r\n                    <div className={`status-item ${status.is_subscription_active ? 'active-status' : 'inactive-status'}`}>\r\n                        <span className=\"status-label\">Subscription Status</span>\r\n                        <span className=\"status-value\">{statusText}</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"current-limits-detail\">\r\n                    <div className=\"limit-detail\">\r\n                        <span className=\"limit-value\">{activeLevelInfo.syncs === 9999 ? 'Unlimited' : activeLevelInfo.syncs}</span>\r\n                        <span className=\"limit-label\">Auto Synchronization Job</span>\r\n                    </div>\r\n                    <div className=\"limit-detail\">\r\n                        <span className=\"limit-value\">Every {activeLevelInfo.interval} minutes</span>\r\n                        <span className=\"limit-label\">Synchronization Interval</span>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            \r\n            {/* --- DİĞER PLANLAR VE YÜKSELTME SEÇENEKLERİ --- */}\r\n            <section className=\"upgrade-section\">\r\n                <h2>Manage Plan</h2>\r\n                <div className=\"plan-grid\">\r\n                    {upgradePlans.map((plan) => {\r\n                        const level = plan.level;\r\n                        const isCurrent = level === status.subscription_level;\r\n                        const buttonText = getButtonText(level);\r\n                        const isDisabled = isCurrent && status.is_subscription_active; // Aktif aboneliği varken kendi planının butonu devre dışı\r\n\r\n                        // Lemon Squeezy URL'si oluşturma\r\n                        const checkoutUrl = getLemonSqueezyCheckoutUrl(plan.id, plan.level);\r\n                        \r\n                        return (\r\n                            <div key={level} className={`plan-card ${isCurrent ? 'current' : ''}`}>\r\n                                <h3>{plan.label}</h3>\r\n                                <p className=\"plan-price\">\r\n                                    ${plan.price} / ay\r\n                                </p>\r\n                                <ul className=\"plan-features\">\r\n                                    <li>{plan.syncs === 9999 ? 'Unlimited' : plan.syncs} Auto Synchronization Job</li>\r\n                                    <li>Every {plan.interval} minutes</li>\r\n                                </ul>\r\n\r\n                                <a \r\n                                    href={checkoutUrl}\r\n                                    target=\"_blank\" // Yeni sekmede açar\r\n                                    rel=\"noopener noreferrer\"\r\n                                    className={`btn btn-upgrade ${isDisabled ? 'disabled-link' : ''}`}\r\n                                    aria-disabled={isDisabled}\r\n                                    // Butonun kendisi hala tıklanabilir olduğu için disabled sınıfı ile stil veriyoruz\r\n                                >\r\n                                    {buttonText}\r\n                                </a>\r\n                                {isCurrent && status.is_subscription_active && (\r\n                                    <p className=\"plan-note\">\r\n                                        To manage your plan (cancel/upgrade/downgrade), log in to the <a href={`${LEMONSQUEEZY_STORE_URL}/billing?email=${status.email}`} target=\"_blank\" rel=\"noopener noreferrer\">Lemon Squeezy Customer Portal</a> with your email address.\r\n                                    </p>\r\n                                )}\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </section>\r\n\r\n            {message && <p className=\"error-message\">{message}</p>}\r\n            \r\n            {/* --- HESAP SİLME BÖLÜMÜ --- */}\r\n            <section className=\"delete-account-section\">\r\n                <h2>Permanently Delete Account</h2>\r\n                <p>\r\n                    ATTENTION! This action is irreversible. When you delete your account, all your synchronization settings, saved Excel and Notion connections will be permanently deleted. Your data will be cleared from our servers following the period specified in our Terms and Conditions.\r\n                </p>\r\n                <button \r\n                    onClick={handleDeleteAccount} \r\n                    className=\"btn btn-danger delete-btn\"\r\n                >\r\n                    Delete Account\r\n                </button>\r\n            </section>\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}