{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Taha\\\\Desktop\\\\notion-excel-sync\\\\excel-notion-ui\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// API'ye yapılacak çağrıların temel URL'si\nconst API_BASE_URL = 'http://127.0.0.1:8000';\nfunction App() {\n  _s();\n  const [step, setStep] = useState('connect');\n  const [excelFiles, setExcelFiles] = useState([]);\n  const [excelColumns, setExcelColumns] = useState([]);\n  const [notionProperties, setNotionProperties] = useState([]);\n  const [selectedExcelId, setSelectedExcelId] = useState('');\n  const [notionDbId, setNotionDbId] = useState('');\n  const [message, setMessage] = useState('');\n  const [mappings, setMappings] = useState([]); // Eşleşmeleri tutacak yeni state\n\n  // Microsoft yetkilendirmesi ve dosya listelemeyi birleştir\n  const handleMicrosoftConnect = () => {\n    window.location.href = `${API_BASE_URL}/connect/microsoft`;\n  };\n  const handleNotionConnect = () => {\n    setMessage('Notion hesabınızı bağlamak için, Notion\\'da herhangi bir veritabanı veya sayfasına gidin, \"...\" menüsünden \"Add connections\"ı seçin ve oluşturduğunuz entegrasyonu (\"Excel Sync\") ekleyin.');\n  };\n  const fetchExcelFiles = async () => {\n    setMessage('Excel dosyaları yükleniyor...');\n    const userId = localStorage.getItem('user_id');\n    if (!userId) {\n      setMessage('Hata: Kullanıcı ID bulunamadı.');\n      setStep('connect');\n      return;\n    }\n    try {\n      const response = await fetch(`${API_BASE_URL}/get-excel-files?user_id=${userId}`);\n      if (!response.ok) {\n        throw new Error('Dosyalar alınamadı. Hesabınızın bağlı olduğundan emin olun.');\n      }\n      const data = await response.json();\n      setExcelFiles(data.files);\n      setStep('select');\n      setMessage('');\n    } catch (error) {\n      if (error instanceof Error) {\n        setMessage(`Hata: ${error.message}`);\n      } else {\n        setMessage('Bilinmeyen bir hata oluştu.');\n      }\n    }\n  };\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    const authSuccess = params.get('auth_success');\n    const userId = params.get('user_id');\n    if (authSuccess === 'true' && userId) {\n      localStorage.setItem('user_id', userId);\n      fetchExcelFiles();\n      window.history.replaceState({}, document.title, window.location.pathname);\n    }\n  }, []);\n  const notionKey = \"secret_...\"; // Kullanıcının girdiği anahtar\n  const userId = 1; // Backend'den gelen ID\n\n  fetch('http://localhost:8000/save-notion-key', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      user_id: userId,\n      notion_key: notionKey\n    })\n  }).then(response => response.json()).then(data => {\n    console.log(data);\n    // Başarılıysa, bir sonraki adıma (Notion veritabanını seçmeye) geçebilirsiniz.\n  }).catch(error => {\n    console.error('Hata:', error);\n  });\n  const handleGoToMapping = async () => {\n    if (selectedExcelId && notionDbId) {\n      setMessage('Eşleme verileri çekiliyor...');\n      const userId = localStorage.getItem('user_id');\n      if (!userId) {\n        setMessage('Hata: Kullanıcı ID bulunamadı.');\n        return;\n      }\n      try {\n        const [excelRes, notionRes] = await Promise.all([fetch(`${API_BASE_URL}/get-excel-columns?user_id=${userId}&excel_file_id=${selectedExcelId}`), fetch(`${API_BASE_URL}/get-notion-properties?user_id=${userId}&notion_database_id=${notionDbId}`)]);\n        if (!excelRes.ok || !notionRes.ok) {\n          throw new Error('Eşleme verileri alınamadı.');\n        }\n        const excelData = await excelRes.json();\n        const notionData = await notionRes.json();\n\n        // Aynı ada sahip sütunları otomatik olarak eşleştir\n        const initialMappings = excelData.columns.map(col => {\n          const matchingNotionProp = notionData.properties.find(prop => prop.name === col.name);\n          return {\n            excel_column: col.name,\n            notion_property: matchingNotionProp ? matchingNotionProp.name : '',\n            data_type: matchingNotionProp ? matchingNotionProp.type : ''\n          };\n        });\n        setExcelColumns(excelData.columns);\n        setNotionProperties(notionData.properties);\n        setMappings(initialMappings);\n        setStep('mapping');\n        setMessage('');\n      } catch (error) {\n        if (error instanceof Error) {\n          setMessage(`Hata: ${error.message}`);\n        } else {\n          setMessage('Bilinmeyen bir hata oluştu.');\n        }\n      }\n    } else {\n      setMessage('Lütfen bir Excel dosyası ve Notion veritabanı kimliği seçin.');\n    }\n  };\n\n  // Eşleme değişikliğini güncelleyen fonksiyon\n  const handleMappingChange = (excelColName, notionPropName) => {\n    setMappings(prevMappings => {\n      const notionProp = notionProperties.find(p => p.name === notionPropName);\n      return prevMappings.map(mapping => mapping.excel_column === excelColName ? {\n        ...mapping,\n        notion_property: notionPropName,\n        data_type: notionProp ? notionProp.type : ''\n      } : mapping);\n    });\n  };\n\n  // Eşlemeyi kaydeden ve senkronizasyonu başlatan fonksiyon\n  const saveMappingAndStartSync = async () => {\n    setMessage('Eşleme kaydediliyor...');\n    const userId = localStorage.getItem('user_id');\n    if (!userId) {\n      setMessage('Hata: Kullanıcı ID bulunamadı.');\n      return;\n    }\n\n    // Seçilmemiş eşlemeleri filtrele\n    const validMappings = mappings.filter(m => m.notion_property !== '');\n    try {\n      // Eşlemeleri kaydet\n      const saveResponse = await fetch(`${API_BASE_URL}/save-mapping?user_id=${userId}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(validMappings)\n      });\n      if (!saveResponse.ok) {\n        throw new Error('Eşleme kaydedilemedi.');\n      }\n      setMessage('Eşleme başarıyla kaydedildi. Senkronizasyon başlatılıyor...');\n\n      // Senkronizasyonu başlat\n      const syncResponse = await fetch(`${API_BASE_URL}/sync?excel_file_id=${selectedExcelId}&notion_database_id=${notionDbId}&user_id=${userId}`, {\n        method: 'POST'\n      });\n      if (!syncResponse.ok) {\n        throw new Error('Senkronizasyon başlatılamadı.');\n      }\n      setMessage('Senkronizasyon başarıyla tamamlandı!');\n      setStep('complete');\n    } catch (error) {\n      if (error instanceof Error) {\n        setMessage(`Hata: ${error.message}`);\n      } else {\n        setMessage('Bilinmeyen bir hata oluştu.');\n      }\n    }\n  };\n  const renderConnectStep = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Ba\\u015Flamak i\\xE7in hesaplar\\u0131n\\u0131z\\u0131 ba\\u011Flay\\u0131n.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleMicrosoftConnect,\n      children: \"Microsoft Hesab\\u0131n\\u0131 Ba\\u011Fla\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleNotionConnect,\n      children: \"Notion Hesab\\u0131n\\u0131 Ba\\u011Fla\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Microsoft ba\\u011Flant\\u0131s\\u0131n\\u0131 tamamlad\\u0131ktan sonra, dosyalar\\u0131n\\u0131z otomatik olarak y\\xFCklenecektir.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 5\n  }, this);\n  const renderSelectStep = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Excel Dosyan\\u0131z\\u0131 ve Notion Veritaban\\u0131n\\u0131z\\u0131 Se\\xE7in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-selection-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"excel-files\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Excel Dosyalar\\u0131\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), excelFiles.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: excelFiles.map(file => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"excelFile\",\n                value: file.id,\n                checked: selectedExcelId === file.id,\n                onChange: e => setSelectedExcelId(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 21\n              }, this), file.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 19\n            }, this)\n          }, file.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Excel dosyas\\u0131 bulunamad\\u0131. L\\xFCtfen OneDrive hesab\\u0131n\\u0131zda .xlsx dosyas\\u0131 oldu\\u011Fundan emin olun.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notion-db\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Notion Veritaban\\u0131 ID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Notion veritaban\\u0131 ID'sini URL'den kopyalay\\u0131p yap\\u0131\\u015Ft\\u0131r\\u0131n.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Notion Veritaban\\u0131 ID'sini girin...\",\n          value: notionDbId,\n          onChange: e => setNotionDbId(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleGoToMapping,\n      children: \"E\\u015Flemeye Ge\\xE7\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n  const renderMappingStep = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"S\\xFCtunlar\\u0131 E\\u015Fle\\u015Ftirin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mapping-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"excel-side\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Excel S\\xFCtunlar\\u0131\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: excelColumns.map(col => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: col.name\n          }, col.name, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notion-side\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Notion \\xD6zellikleri\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: mappings.map(mapping => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"excel-col-name\",\n                children: mapping.excel_column\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: mapping.notion_property,\n                onChange: e => handleMappingChange(mapping.excel_column, e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Se\\xE7iniz...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 21\n                }, this), notionProperties.map(prop => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: prop.name,\n                  children: [prop.name, \" (\", prop.type, \")\"]\n                }, prop.name, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this)\n          }, mapping.excel_column, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: saveMappingAndStartSync,\n      children: \"E\\u015Flemeyi Kaydet ve Senkronizasyonu Ba\\u015Flat\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 261,\n    columnNumber: 5\n  }, this);\n  const renderCompleteStep = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Senkronizasyon Ba\\u015Far\\u0131l\\u0131!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Verileriniz \\u015Fimdi Excel ve Notion aras\\u0131nda senkronize ediliyor. Kodunuzdaki periyodik g\\xF6revler bu senkronizasyonu s\\xFCrd\\xFCrecektir.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setStep('connect'),\n      children: \"Yeni Senkronizasyon Olu\\u015Ftur\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 299,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Notion & Excel Senkronizasyonu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"message\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 21\n      }, this), step === 'connect' && renderConnectStep(), step === 'select' && renderSelectStep(), step === 'mapping' && renderMappingStep(), step === 'complete' && renderCompleteStep()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 307,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"M7WpDbTDeAB22GI/S+fYSLwfLxQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","API_BASE_URL","App","_s","step","setStep","excelFiles","setExcelFiles","excelColumns","setExcelColumns","notionProperties","setNotionProperties","selectedExcelId","setSelectedExcelId","notionDbId","setNotionDbId","message","setMessage","mappings","setMappings","handleMicrosoftConnect","window","location","href","handleNotionConnect","fetchExcelFiles","userId","localStorage","getItem","response","fetch","ok","Error","data","json","files","error","params","URLSearchParams","search","authSuccess","get","setItem","history","replaceState","document","title","pathname","notionKey","method","headers","body","JSON","stringify","user_id","notion_key","then","console","log","catch","handleGoToMapping","excelRes","notionRes","Promise","all","excelData","notionData","initialMappings","columns","map","col","matchingNotionProp","properties","find","prop","name","excel_column","notion_property","data_type","type","handleMappingChange","excelColName","notionPropName","prevMappings","notionProp","p","mapping","saveMappingAndStartSync","validMappings","filter","m","saveResponse","syncResponse","renderConnectStep","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","renderSelectStep","className","length","file","value","id","checked","onChange","e","target","placeholder","renderMappingStep","renderCompleteStep","_c","$RefreshReg$"],"sources":["C:/Users/Taha/Desktop/notion-excel-sync/excel-notion-ui/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\n\ntype AppStep = 'connect' | 'select' | 'mapping' | 'complete';\n\n// API'ye yapılacak çağrıların temel URL'si\nconst API_BASE_URL = 'http://127.0.0.1:8000';\n\nfunction App() {\n  const [step, setStep] = useState<AppStep>('connect');\n  const [excelFiles, setExcelFiles] = useState<{ id: string; name: string }[]>([]);\n  const [excelColumns, setExcelColumns] = useState<{ name: string; }[]>([]);\n  const [notionProperties, setNotionProperties] = useState<{ name: string; type: string }[]>([]);\n  const [selectedExcelId, setSelectedExcelId] = useState<string>('');\n  const [notionDbId, setNotionDbId] = useState<string>('');\n  const [message, setMessage] = useState<string>('');\n  const [mappings, setMappings] = useState<any[]>([]); // Eşleşmeleri tutacak yeni state\n\n  // Microsoft yetkilendirmesi ve dosya listelemeyi birleştir\n  const handleMicrosoftConnect = () => {\n    window.location.href = `${API_BASE_URL}/connect/microsoft`;\n  };\n\n  const handleNotionConnect = () => {\n    setMessage('Notion hesabınızı bağlamak için, Notion\\'da herhangi bir veritabanı veya sayfasına gidin, \"...\" menüsünden \"Add connections\"ı seçin ve oluşturduğunuz entegrasyonu (\"Excel Sync\") ekleyin.');\n  };\n  \n\n\n\n\n  const fetchExcelFiles = async () => {\n    setMessage('Excel dosyaları yükleniyor...');\n    const userId = localStorage.getItem('user_id');\n    if (!userId) {\n      setMessage('Hata: Kullanıcı ID bulunamadı.');\n      setStep('connect');\n      return;\n    }\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/get-excel-files?user_id=${userId}`);\n      if (!response.ok) {\n        throw new Error('Dosyalar alınamadı. Hesabınızın bağlı olduğundan emin olun.');\n      }\n      const data = await response.json();\n      setExcelFiles(data.files);\n      setStep('select');\n      setMessage('');\n    } catch (error) {\n      if (error instanceof Error) {\n        setMessage(`Hata: ${error.message}`);\n      } else {\n        setMessage('Bilinmeyen bir hata oluştu.');\n      }\n    }\n  };\n\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search);\n    const authSuccess = params.get('auth_success');\n    const userId = params.get('user_id');\n\n    if (authSuccess === 'true' && userId) {\n      localStorage.setItem('user_id', userId);\n      fetchExcelFiles();\n      window.history.replaceState({}, document.title, window.location.pathname);\n    }\n  }, []);\n\n\n  const notionKey = \"secret_...\"; // Kullanıcının girdiği anahtar\nconst userId = 1; // Backend'den gelen ID\n\nfetch('http://localhost:8000/save-notion-key', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({\n    user_id: userId,\n    notion_key: notionKey\n  })\n})\n.then(response => response.json())\n.then(data => {\n  console.log(data);\n  // Başarılıysa, bir sonraki adıma (Notion veritabanını seçmeye) geçebilirsiniz.\n})\n.catch(error => {\n  console.error('Hata:', error);\n});\n\n\n\n\n\n\n  const handleGoToMapping = async () => {\n    if (selectedExcelId && notionDbId) {\n      setMessage('Eşleme verileri çekiliyor...');\n      const userId = localStorage.getItem('user_id');\n      if (!userId) {\n        setMessage('Hata: Kullanıcı ID bulunamadı.');\n        return;\n      }\n\n      try {\n        const [excelRes, notionRes] = await Promise.all([\n          fetch(`${API_BASE_URL}/get-excel-columns?user_id=${userId}&excel_file_id=${selectedExcelId}`),\n          fetch(`${API_BASE_URL}/get-notion-properties?user_id=${userId}&notion_database_id=${notionDbId}`)\n        ]);\n\n        if (!excelRes.ok || !notionRes.ok) {\n          throw new Error('Eşleme verileri alınamadı.');\n        }\n\n        const excelData = await excelRes.json();\n        const notionData = await notionRes.json();\n\n        // Aynı ada sahip sütunları otomatik olarak eşleştir\n        const initialMappings = excelData.columns.map((col: { name: string }) => {\n          const matchingNotionProp = notionData.properties.find((prop: { name: string }) => prop.name === col.name);\n          return {\n            excel_column: col.name,\n            notion_property: matchingNotionProp ? matchingNotionProp.name : '',\n            data_type: matchingNotionProp ? matchingNotionProp.type : ''\n          };\n        });\n\n        setExcelColumns(excelData.columns);\n        setNotionProperties(notionData.properties);\n        setMappings(initialMappings);\n        setStep('mapping');\n        setMessage('');\n      } catch (error) {\n        if (error instanceof Error) {\n          setMessage(`Hata: ${error.message}`);\n        } else {\n          setMessage('Bilinmeyen bir hata oluştu.');\n        }\n      }\n    } else {\n      setMessage('Lütfen bir Excel dosyası ve Notion veritabanı kimliği seçin.');\n    }\n  };\n  \n  // Eşleme değişikliğini güncelleyen fonksiyon\n  const handleMappingChange = (excelColName: string, notionPropName: string) => {\n    setMappings(prevMappings => {\n      const notionProp = notionProperties.find(p => p.name === notionPropName);\n      return prevMappings.map(mapping =>\n        mapping.excel_column === excelColName\n          ? { ...mapping, notion_property: notionPropName, data_type: notionProp ? notionProp.type : '' }\n          : mapping\n      );\n    });\n  };\n\n  // Eşlemeyi kaydeden ve senkronizasyonu başlatan fonksiyon\n  const saveMappingAndStartSync = async () => {\n    setMessage('Eşleme kaydediliyor...');\n    const userId = localStorage.getItem('user_id');\n    if (!userId) {\n      setMessage('Hata: Kullanıcı ID bulunamadı.');\n      return;\n    }\n\n    // Seçilmemiş eşlemeleri filtrele\n    const validMappings = mappings.filter(m => m.notion_property !== '');\n\n    try {\n      // Eşlemeleri kaydet\n      const saveResponse = await fetch(`${API_BASE_URL}/save-mapping?user_id=${userId}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(validMappings),\n      });\n\n      if (!saveResponse.ok) {\n        throw new Error('Eşleme kaydedilemedi.');\n      }\n      setMessage('Eşleme başarıyla kaydedildi. Senkronizasyon başlatılıyor...');\n\n      // Senkronizasyonu başlat\n      const syncResponse = await fetch(`${API_BASE_URL}/sync?excel_file_id=${selectedExcelId}&notion_database_id=${notionDbId}&user_id=${userId}`, {\n        method: 'POST',\n      });\n\n      if (!syncResponse.ok) {\n        throw new Error('Senkronizasyon başlatılamadı.');\n      }\n\n      setMessage('Senkronizasyon başarıyla tamamlandı!');\n      setStep('complete');\n    } catch (error) {\n      if (error instanceof Error) {\n        setMessage(`Hata: ${error.message}`);\n      } else {\n        setMessage('Bilinmeyen bir hata oluştu.');\n      }\n    }\n  };\n  \n  const renderConnectStep = () => (\n    <div>\n      <p>Başlamak için hesaplarınızı bağlayın.</p>\n      <button onClick={handleMicrosoftConnect}>Microsoft Hesabını Bağla</button>\n      <button onClick={handleNotionConnect}>Notion Hesabını Bağla</button>\n      <p>Microsoft bağlantısını tamamladıktan sonra, dosyalarınız otomatik olarak yüklenecektir.</p>\n    </div>\n  );\n\n\n  const renderSelectStep = () => (\n    <div>\n      <h2>Excel Dosyanızı ve Notion Veritabanınızı Seçin</h2>\n      \n      <div className=\"file-selection-container\">\n        <div className=\"excel-files\">\n          <h3>Excel Dosyaları</h3>\n          {excelFiles.length > 0 ? (\n            <ul>\n              {excelFiles.map((file) => (\n                <li key={file.id}>\n                  <label>\n                    <input\n                      type=\"radio\"\n                      name=\"excelFile\"\n                      value={file.id}\n                      checked={selectedExcelId === file.id}\n                      onChange={(e) => setSelectedExcelId(e.target.value)}\n                    />\n                    {file.name}\n                  </label>\n                </li>\n              ))}\n            </ul>\n          ) : (\n            <p>Excel dosyası bulunamadı. Lütfen OneDrive hesabınızda .xlsx dosyası olduğundan emin olun.</p>\n          )}\n        </div>\n\n        <div className=\"notion-db\">\n          <h3>Notion Veritabanı ID</h3>\n          <p>Notion veritabanı ID'sini URL'den kopyalayıp yapıştırın.</p>\n          <input\n            type=\"text\"\n            placeholder=\"Notion Veritabanı ID'sini girin...\"\n            value={notionDbId}\n            onChange={(e) => setNotionDbId(e.target.value)}\n          />\n        </div>\n      </div>\n      \n      <button onClick={handleGoToMapping}>Eşlemeye Geç</button>\n    </div>\n  );\n\n  const renderMappingStep = () => (\n    <div>\n      <h2>Sütunları Eşleştirin</h2>\n      <div className=\"mapping-container\">\n        <div className=\"excel-side\">\n          <h3>Excel Sütunları</h3>\n          <ul>\n            {excelColumns.map((col) => (\n              <li key={col.name}>{col.name}</li>\n            ))}\n          </ul>\n        </div>\n        <div className=\"notion-side\">\n          <h3>Notion Özellikleri</h3>\n          <ul>\n            {mappings.map(mapping => (\n              <li key={mapping.excel_column}>\n                <label>\n                  <span className=\"excel-col-name\">{mapping.excel_column}</span>\n                  <select\n                    value={mapping.notion_property}\n                    onChange={(e) => handleMappingChange(mapping.excel_column, e.target.value)}\n                  >\n                    <option value=\"\">Seçiniz...</option>\n                    {notionProperties.map(prop => (\n                      <option key={prop.name} value={prop.name}>{prop.name} ({prop.type})</option>\n                    ))}\n                  </select>\n                </label>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n      <button onClick={saveMappingAndStartSync}>Eşlemeyi Kaydet ve Senkronizasyonu Başlat</button>\n    </div>\n  );\n  \n  const renderCompleteStep = () => (\n    <div>\n      <h2>Senkronizasyon Başarılı!</h2>\n      <p>Verileriniz şimdi Excel ve Notion arasında senkronize ediliyor. Kodunuzdaki periyodik görevler bu senkronizasyonu sürdürecektir.</p>\n      <button onClick={() => setStep('connect')}>Yeni Senkronizasyon Oluştur</button>\n    </div>\n  );\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Notion & Excel Senkronizasyonu</h1>\n        \n        {message && <p className=\"message\">{message}</p>}\n\n        {step === 'connect' && renderConnectStep()}\n        {step === 'select' && renderSelectStep()}\n        {step === 'mapping' && renderMappingStep()}\n        {step === 'complete' && renderCompleteStep()}\n      </header>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAInB;AACA,MAAMC,YAAY,GAAG,uBAAuB;AAE5C,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAU,SAAS,CAAC;EACpD,MAAM,CAACS,UAAU,EAAEC,aAAa,CAAC,GAAGV,QAAQ,CAAiC,EAAE,CAAC;EAChF,MAAM,CAACW,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAsB,EAAE,CAAC;EACzE,MAAM,CAACa,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGd,QAAQ,CAAmC,EAAE,CAAC;EAC9F,MAAM,CAACe,eAAe,EAAEC,kBAAkB,CAAC,GAAGhB,QAAQ,CAAS,EAAE,CAAC;EAClE,MAAM,CAACiB,UAAU,EAAEC,aAAa,CAAC,GAAGlB,QAAQ,CAAS,EAAE,CAAC;EACxD,MAAM,CAACmB,OAAO,EAAEC,UAAU,CAAC,GAAGpB,QAAQ,CAAS,EAAE,CAAC;EAClD,MAAM,CAACqB,QAAQ,EAAEC,WAAW,CAAC,GAAGtB,QAAQ,CAAQ,EAAE,CAAC,CAAC,CAAC;;EAErD;EACA,MAAMuB,sBAAsB,GAAGA,CAAA,KAAM;IACnCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAGtB,YAAY,oBAAoB;EAC5D,CAAC;EAED,MAAMuB,mBAAmB,GAAGA,CAAA,KAAM;IAChCP,UAAU,CAAC,4LAA4L,CAAC;EAC1M,CAAC;EAMD,MAAMQ,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClCR,UAAU,CAAC,+BAA+B,CAAC;IAC3C,MAAMS,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;IAC9C,IAAI,CAACF,MAAM,EAAE;MACXT,UAAU,CAAC,gCAAgC,CAAC;MAC5CZ,OAAO,CAAC,SAAS,CAAC;MAClB;IACF;IAEA,IAAI;MACF,MAAMwB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAG7B,YAAY,4BAA4ByB,MAAM,EAAE,CAAC;MACjF,IAAI,CAACG,QAAQ,CAACE,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,6DAA6D,CAAC;MAChF;MACA,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;MAClC3B,aAAa,CAAC0B,IAAI,CAACE,KAAK,CAAC;MACzB9B,OAAO,CAAC,QAAQ,CAAC;MACjBY,UAAU,CAAC,EAAE,CAAC;IAChB,CAAC,CAAC,OAAOmB,KAAK,EAAE;MACd,IAAIA,KAAK,YAAYJ,KAAK,EAAE;QAC1Bf,UAAU,CAAC,SAASmB,KAAK,CAACpB,OAAO,EAAE,CAAC;MACtC,CAAC,MAAM;QACLC,UAAU,CAAC,6BAA6B,CAAC;MAC3C;IACF;EACF,CAAC;EAEDnB,SAAS,CAAC,MAAM;IACd,MAAMuC,MAAM,GAAG,IAAIC,eAAe,CAACjB,MAAM,CAACC,QAAQ,CAACiB,MAAM,CAAC;IAC1D,MAAMC,WAAW,GAAGH,MAAM,CAACI,GAAG,CAAC,cAAc,CAAC;IAC9C,MAAMf,MAAM,GAAGW,MAAM,CAACI,GAAG,CAAC,SAAS,CAAC;IAEpC,IAAID,WAAW,KAAK,MAAM,IAAId,MAAM,EAAE;MACpCC,YAAY,CAACe,OAAO,CAAC,SAAS,EAAEhB,MAAM,CAAC;MACvCD,eAAe,CAAC,CAAC;MACjBJ,MAAM,CAACsB,OAAO,CAACC,YAAY,CAAC,CAAC,CAAC,EAAEC,QAAQ,CAACC,KAAK,EAAEzB,MAAM,CAACC,QAAQ,CAACyB,QAAQ,CAAC;IAC3E;EACF,CAAC,EAAE,EAAE,CAAC;EAGN,MAAMC,SAAS,GAAG,YAAY,CAAC,CAAC;EAClC,MAAMtB,MAAM,GAAG,CAAC,CAAC,CAAC;;EAElBI,KAAK,CAAC,uCAAuC,EAAE;IAC7CmB,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MACnBC,OAAO,EAAE5B,MAAM;MACf6B,UAAU,EAAEP;IACd,CAAC;EACH,CAAC,CAAC,CACDQ,IAAI,CAAC3B,QAAQ,IAAIA,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAC,CACjCsB,IAAI,CAACvB,IAAI,IAAI;IACZwB,OAAO,CAACC,GAAG,CAACzB,IAAI,CAAC;IACjB;EACF,CAAC,CAAC,CACD0B,KAAK,CAACvB,KAAK,IAAI;IACdqB,OAAO,CAACrB,KAAK,CAAC,OAAO,EAAEA,KAAK,CAAC;EAC/B,CAAC,CAAC;EAOA,MAAMwB,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAIhD,eAAe,IAAIE,UAAU,EAAE;MACjCG,UAAU,CAAC,8BAA8B,CAAC;MAC1C,MAAMS,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;MAC9C,IAAI,CAACF,MAAM,EAAE;QACXT,UAAU,CAAC,gCAAgC,CAAC;QAC5C;MACF;MAEA,IAAI;QACF,MAAM,CAAC4C,QAAQ,EAAEC,SAAS,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAC9ClC,KAAK,CAAC,GAAG7B,YAAY,8BAA8ByB,MAAM,kBAAkBd,eAAe,EAAE,CAAC,EAC7FkB,KAAK,CAAC,GAAG7B,YAAY,kCAAkCyB,MAAM,uBAAuBZ,UAAU,EAAE,CAAC,CAClG,CAAC;QAEF,IAAI,CAAC+C,QAAQ,CAAC9B,EAAE,IAAI,CAAC+B,SAAS,CAAC/B,EAAE,EAAE;UACjC,MAAM,IAAIC,KAAK,CAAC,4BAA4B,CAAC;QAC/C;QAEA,MAAMiC,SAAS,GAAG,MAAMJ,QAAQ,CAAC3B,IAAI,CAAC,CAAC;QACvC,MAAMgC,UAAU,GAAG,MAAMJ,SAAS,CAAC5B,IAAI,CAAC,CAAC;;QAEzC;QACA,MAAMiC,eAAe,GAAGF,SAAS,CAACG,OAAO,CAACC,GAAG,CAAEC,GAAqB,IAAK;UACvE,MAAMC,kBAAkB,GAAGL,UAAU,CAACM,UAAU,CAACC,IAAI,CAAEC,IAAsB,IAAKA,IAAI,CAACC,IAAI,KAAKL,GAAG,CAACK,IAAI,CAAC;UACzG,OAAO;YACLC,YAAY,EAAEN,GAAG,CAACK,IAAI;YACtBE,eAAe,EAAEN,kBAAkB,GAAGA,kBAAkB,CAACI,IAAI,GAAG,EAAE;YAClEG,SAAS,EAAEP,kBAAkB,GAAGA,kBAAkB,CAACQ,IAAI,GAAG;UAC5D,CAAC;QACH,CAAC,CAAC;QAEFtE,eAAe,CAACwD,SAAS,CAACG,OAAO,CAAC;QAClCzD,mBAAmB,CAACuD,UAAU,CAACM,UAAU,CAAC;QAC1CrD,WAAW,CAACgD,eAAe,CAAC;QAC5B9D,OAAO,CAAC,SAAS,CAAC;QAClBY,UAAU,CAAC,EAAE,CAAC;MAChB,CAAC,CAAC,OAAOmB,KAAK,EAAE;QACd,IAAIA,KAAK,YAAYJ,KAAK,EAAE;UAC1Bf,UAAU,CAAC,SAASmB,KAAK,CAACpB,OAAO,EAAE,CAAC;QACtC,CAAC,MAAM;UACLC,UAAU,CAAC,6BAA6B,CAAC;QAC3C;MACF;IACF,CAAC,MAAM;MACLA,UAAU,CAAC,8DAA8D,CAAC;IAC5E;EACF,CAAC;;EAED;EACA,MAAM+D,mBAAmB,GAAGA,CAACC,YAAoB,EAAEC,cAAsB,KAAK;IAC5E/D,WAAW,CAACgE,YAAY,IAAI;MAC1B,MAAMC,UAAU,GAAG1E,gBAAgB,CAAC+D,IAAI,CAACY,CAAC,IAAIA,CAAC,CAACV,IAAI,KAAKO,cAAc,CAAC;MACxE,OAAOC,YAAY,CAACd,GAAG,CAACiB,OAAO,IAC7BA,OAAO,CAACV,YAAY,KAAKK,YAAY,GACjC;QAAE,GAAGK,OAAO;QAAET,eAAe,EAAEK,cAAc;QAAEJ,SAAS,EAAEM,UAAU,GAAGA,UAAU,CAACL,IAAI,GAAG;MAAG,CAAC,GAC7FO,OACN,CAAC;IACH,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMC,uBAAuB,GAAG,MAAAA,CAAA,KAAY;IAC1CtE,UAAU,CAAC,wBAAwB,CAAC;IACpC,MAAMS,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;IAC9C,IAAI,CAACF,MAAM,EAAE;MACXT,UAAU,CAAC,gCAAgC,CAAC;MAC5C;IACF;;IAEA;IACA,MAAMuE,aAAa,GAAGtE,QAAQ,CAACuE,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACb,eAAe,KAAK,EAAE,CAAC;IAEpE,IAAI;MACF;MACA,MAAMc,YAAY,GAAG,MAAM7D,KAAK,CAAC,GAAG7B,YAAY,yBAAyByB,MAAM,EAAE,EAAE;QACjFuB,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACmC,aAAa;MACpC,CAAC,CAAC;MAEF,IAAI,CAACG,YAAY,CAAC5D,EAAE,EAAE;QACpB,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;MAC1C;MACAf,UAAU,CAAC,6DAA6D,CAAC;;MAEzE;MACA,MAAM2E,YAAY,GAAG,MAAM9D,KAAK,CAAC,GAAG7B,YAAY,uBAAuBW,eAAe,uBAAuBE,UAAU,YAAYY,MAAM,EAAE,EAAE;QAC3IuB,MAAM,EAAE;MACV,CAAC,CAAC;MAEF,IAAI,CAAC2C,YAAY,CAAC7D,EAAE,EAAE;QACpB,MAAM,IAAIC,KAAK,CAAC,+BAA+B,CAAC;MAClD;MAEAf,UAAU,CAAC,sCAAsC,CAAC;MAClDZ,OAAO,CAAC,UAAU,CAAC;IACrB,CAAC,CAAC,OAAO+B,KAAK,EAAE;MACd,IAAIA,KAAK,YAAYJ,KAAK,EAAE;QAC1Bf,UAAU,CAAC,SAASmB,KAAK,CAACpB,OAAO,EAAE,CAAC;MACtC,CAAC,MAAM;QACLC,UAAU,CAAC,6BAA6B,CAAC;MAC3C;IACF;EACF,CAAC;EAED,MAAM4E,iBAAiB,GAAGA,CAAA,kBACxB7F,OAAA;IAAA8F,QAAA,gBACE9F,OAAA;MAAA8F,QAAA,EAAG;IAAqC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eAC5ClG,OAAA;MAAQmG,OAAO,EAAE/E,sBAAuB;MAAA0E,QAAA,EAAC;IAAwB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAC1ElG,OAAA;MAAQmG,OAAO,EAAE3E,mBAAoB;MAAAsE,QAAA,EAAC;IAAqB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACpElG,OAAA;MAAA8F,QAAA,EAAG;IAAuF;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC3F,CACN;EAGD,MAAME,gBAAgB,GAAGA,CAAA,kBACvBpG,OAAA;IAAA8F,QAAA,gBACE9F,OAAA;MAAA8F,QAAA,EAAI;IAA8C;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEvDlG,OAAA;MAAKqG,SAAS,EAAC,0BAA0B;MAAAP,QAAA,gBACvC9F,OAAA;QAAKqG,SAAS,EAAC,aAAa;QAAAP,QAAA,gBAC1B9F,OAAA;UAAA8F,QAAA,EAAI;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EACvB5F,UAAU,CAACgG,MAAM,GAAG,CAAC,gBACpBtG,OAAA;UAAA8F,QAAA,EACGxF,UAAU,CAAC+D,GAAG,CAAEkC,IAAI,iBACnBvG,OAAA;YAAA8F,QAAA,eACE9F,OAAA;cAAA8F,QAAA,gBACE9F,OAAA;gBACE+E,IAAI,EAAC,OAAO;gBACZJ,IAAI,EAAC,WAAW;gBAChB6B,KAAK,EAAED,IAAI,CAACE,EAAG;gBACfC,OAAO,EAAE9F,eAAe,KAAK2F,IAAI,CAACE,EAAG;gBACrCE,QAAQ,EAAGC,CAAC,IAAK/F,kBAAkB,CAAC+F,CAAC,CAACC,MAAM,CAACL,KAAK;cAAE;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrD,CAAC,EACDK,IAAI,CAAC5B,IAAI;YAAA;cAAAoB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL;UAAC,GAVDK,IAAI,CAACE,EAAE;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAWZ,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,gBAELlG,OAAA;UAAA8F,QAAA,EAAG;QAAyF;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAChG;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENlG,OAAA;QAAKqG,SAAS,EAAC,WAAW;QAAAP,QAAA,gBACxB9F,OAAA;UAAA8F,QAAA,EAAI;QAAoB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC7BlG,OAAA;UAAA8F,QAAA,EAAG;QAAwD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAC/DlG,OAAA;UACE+E,IAAI,EAAC,MAAM;UACX+B,WAAW,EAAC,yCAAoC;UAChDN,KAAK,EAAE1F,UAAW;UAClB6F,QAAQ,EAAGC,CAAC,IAAK7F,aAAa,CAAC6F,CAAC,CAACC,MAAM,CAACL,KAAK;QAAE;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENlG,OAAA;MAAQmG,OAAO,EAAEvC,iBAAkB;MAAAkC,QAAA,EAAC;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACtD,CACN;EAED,MAAMa,iBAAiB,GAAGA,CAAA,kBACxB/G,OAAA;IAAA8F,QAAA,gBACE9F,OAAA;MAAA8F,QAAA,EAAI;IAAoB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC7BlG,OAAA;MAAKqG,SAAS,EAAC,mBAAmB;MAAAP,QAAA,gBAChC9F,OAAA;QAAKqG,SAAS,EAAC,YAAY;QAAAP,QAAA,gBACzB9F,OAAA;UAAA8F,QAAA,EAAI;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxBlG,OAAA;UAAA8F,QAAA,EACGtF,YAAY,CAAC6D,GAAG,CAAEC,GAAG,iBACpBtE,OAAA;YAAA8F,QAAA,EAAoBxB,GAAG,CAACK;UAAI,GAAnBL,GAAG,CAACK,IAAI;YAAAoB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAgB,CAClC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eACNlG,OAAA;QAAKqG,SAAS,EAAC,aAAa;QAAAP,QAAA,gBAC1B9F,OAAA;UAAA8F,QAAA,EAAI;QAAkB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC3BlG,OAAA;UAAA8F,QAAA,EACG5E,QAAQ,CAACmD,GAAG,CAACiB,OAAO,iBACnBtF,OAAA;YAAA8F,QAAA,eACE9F,OAAA;cAAA8F,QAAA,gBACE9F,OAAA;gBAAMqG,SAAS,EAAC,gBAAgB;gBAAAP,QAAA,EAAER,OAAO,CAACV;cAAY;gBAAAmB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC9DlG,OAAA;gBACEwG,KAAK,EAAElB,OAAO,CAACT,eAAgB;gBAC/B8B,QAAQ,EAAGC,CAAC,IAAK5B,mBAAmB,CAACM,OAAO,CAACV,YAAY,EAAEgC,CAAC,CAACC,MAAM,CAACL,KAAK,CAAE;gBAAAV,QAAA,gBAE3E9F,OAAA;kBAAQwG,KAAK,EAAC,EAAE;kBAAAV,QAAA,EAAC;gBAAU;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,EACnCxF,gBAAgB,CAAC2D,GAAG,CAACK,IAAI,iBACxB1E,OAAA;kBAAwBwG,KAAK,EAAE9B,IAAI,CAACC,IAAK;kBAAAmB,QAAA,GAAEpB,IAAI,CAACC,IAAI,EAAC,IAAE,EAACD,IAAI,CAACK,IAAI,EAAC,GAAC;gBAAA,GAAtDL,IAAI,CAACC,IAAI;kBAAAoB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAqD,CAC5E,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ;UAAC,GAZDZ,OAAO,CAACV,YAAY;YAAAmB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAazB,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACNlG,OAAA;MAAQmG,OAAO,EAAEZ,uBAAwB;MAAAO,QAAA,EAAC;IAAyC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACzF,CACN;EAED,MAAMc,kBAAkB,GAAGA,CAAA,kBACzBhH,OAAA;IAAA8F,QAAA,gBACE9F,OAAA;MAAA8F,QAAA,EAAI;IAAwB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACjClG,OAAA;MAAA8F,QAAA,EAAG;IAAgI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eACvIlG,OAAA;MAAQmG,OAAO,EAAEA,CAAA,KAAM9F,OAAO,CAAC,SAAS,CAAE;MAAAyF,QAAA,EAAC;IAA2B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC5E,CACN;EAED,oBACElG,OAAA;IAAKqG,SAAS,EAAC,KAAK;IAAAP,QAAA,eAClB9F,OAAA;MAAQqG,SAAS,EAAC,YAAY;MAAAP,QAAA,gBAC5B9F,OAAA;QAAA8F,QAAA,EAAI;MAA8B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAEtClF,OAAO,iBAAIhB,OAAA;QAAGqG,SAAS,EAAC,SAAS;QAAAP,QAAA,EAAE9E;MAAO;QAAA+E,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAE/C9F,IAAI,KAAK,SAAS,IAAIyF,iBAAiB,CAAC,CAAC,EACzCzF,IAAI,KAAK,QAAQ,IAAIgG,gBAAgB,CAAC,CAAC,EACvChG,IAAI,KAAK,SAAS,IAAI2G,iBAAiB,CAAC,CAAC,EACzC3G,IAAI,KAAK,UAAU,IAAI4G,kBAAkB,CAAC,CAAC;IAAA;MAAAjB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV;AAAC/F,EAAA,CAvTQD,GAAG;AAAA+G,EAAA,GAAH/G,GAAG;AAyTZ,eAAeA,GAAG;AAAC,IAAA+G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}